import{r as s,u as E,a as b,b as v,j as t,c as f,d as I,e as M}from"./main-Bphi7E9O.js";import{M as x,I as L}from"./Input-5SycOU_w.js";import{B as p}from"./Button-BIU4gVAN.js";const W="_cities_list_118b1_23",O="_popup_118b1_75",T="_negative_118b1_90",S={cities_list:W,popup:O,negative:T},w=e=>e.citiesData.data,V=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("rect",{x:4.5,y:5.1001,width:15,height:18,rx:1,strokeWidth:1.2}),s.createElement("rect",{x:2.25,y:2.1001,width:19.5,height:3,rx:.5,strokeWidth:1.2,strokeLinejoin:"round"}),s.createElement("path",{d:"M9 0.899902L15 0.899902",strokeWidth:1.2,strokeLinecap:"round"}),s.createElement("path",{d:"M12 9V19.5",strokeWidth:1.2,strokeLinecap:"round"}),s.createElement("path",{d:"M15.75 9V19.5",strokeWidth:1.2,strokeLinecap:"round"}),s.createElement("path",{d:"M8.25 9V19.5",strokeWidth:1.2,strokeLinecap:"round"})),_=f.bind(S),D=()=>{const[e,n]=s.useState(!1),[a,i]=s.useState(!1),[d,o]=s.useState(""),h=E(),u=b(w),r=v(),m=()=>{r(I(d)),o(""),n(!1),i(!0)},y=c=>{o(c),n(!0)},g=()=>{o(""),n(!1)},C=c=>{h("/weather-app/weather",{state:{city:c}})},l=u.map((c,N)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>C(c),children:c}),t.jsx(p,{type:"svg",onClick:()=>y(c),children:t.jsx(V,{})})]},N)),j=e&&t.jsx(x,{type:"modal",setIsOpen:n,children:t.jsxs("div",{className:_("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',d,'"']}),"?"]}),t.jsx(p,{type:"default",onClick:m,children:"Delete"}),t.jsx(p,{type:"default",className:_("negative"),onClick:g,children:"Cancel"})]})});return{listItem:l,modal:j,notify:a&&t.jsx(x,{type:"notification",children:"City deleted",setIsOpen:i})}},A=f.bind(S),B=()=>{const{listItem:e,modal:n,notify:a}=D();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:A("cities_list"),children:e}),n,a]})},F="_form_gb011_23",$={form:F},R=()=>{const[e,n]=s.useState(""),[a,i]=s.useState(!1),[d,o]=s.useState(),h=b(w),[u,r]=s.useState("City added"),m=v();return{inputValue:e,handleChange:l=>{n(l)},handleSubmit:l=>{if(l.preventDefault(),e===""){o("warning"),r("Fill input field"),i(!0);return}if(h.some(k=>k===e.charAt(0).toUpperCase()+e.slice(1))){o("warning"),r("City exist"),i(!0);return}m(M(e)),n(""),o("success"),r("City added"),i(!0)},Notification:a&&t.jsx(x,{type:"notification",notifyType:d,setIsOpen:i,children:u})}},U=f.bind($),q=()=>{const{inputValue:e,handleChange:n,handleSubmit:a,Notification:i}=R();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:a,className:U("form"),children:[t.jsx(L,{label:"Add city",value:e,onChange:n}),t.jsx(p,{type:"default",btnType:"submit",children:"+"})]}),i]})},J=()=>t.jsxs("div",{children:[t.jsx(q,{}),t.jsx(B,{})]});export{J as default};
