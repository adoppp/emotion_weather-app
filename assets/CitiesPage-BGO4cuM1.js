import{r as o,u as k,a as S,b as v,j as t,L as D,c as C,B as p,T as L,d as M,e as w,l as A,f as F}from"./main-D-E8IrMD.js";import{M as m,I as V}from"./Input-BXxAxWEp.js";import"./index-CEe53KsS.js";const $="_cities_list_1gb5j_23",B="_popup_1gb5j_75",E="_negative_1gb5j_90",P="_geo_1gb5j_105",I={cities_list:$,popup:B,negative:E,geo:P},T=e=>e.citiesData.data,j=C.bind(I),R=()=>{const[e,n]=o.useState(!1),[a,i]=o.useState(!1),[l,c]=o.useState(""),h=k(),d=S(T),g=v(),y=()=>{g(M(l)),c(""),n(!1),i(!0)},f=s=>{c(s),n(!0)},x=()=>{c(""),n(!1)},_=(s,r,O)=>{h("/weather-app/weather",{state:{city:s,coords:O,index:r}})},b=d.map((s,r)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>_(s.city,s.index,s.coords),children:s.city}),t.jsx("div",{className:j("geo"),children:s.index&&D}),!s.index&&t.jsx(p,{type:"svg",onClick:()=>f(s.city),children:L})]},r)),N=e&&t.jsx(m,{type:"modal",setIsOpen:n,children:t.jsxs("div",{className:j("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',l,'"']}),"?"]}),t.jsx(p,{type:"default",onClick:y,children:"Delete"}),t.jsx(p,{type:"default",className:j("negative"),onClick:x,children:"Cancel"})]})});return{listItem:b,modal:N,notify:a&&t.jsx(m,{type:"notification",children:"City deleted",setIsOpen:i})}},U=C.bind(I),W=()=>{const{listItem:e,modal:n,notify:a}=R();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:U("cities_list"),children:e}),n,a]})},q="_form_gb011_23",z={form:q},G=()=>{const[e,n]=o.useState(""),[a,i]=o.useState(!1),[l,c]=o.useState(),[h,d]=o.useState("City added"),g=S(T),{lng:y}=w(),f=A[y],x=v();return{inputValue:e,handleChange:u=>{n(u)},handleSubmit:u=>{if(u.preventDefault(),e===""){c("warning"),d("Fill input field"),i(!0);return}if(g.some(r=>r.city===e.charAt(0).toUpperCase()+e.slice(1))){c("warning"),d("City exist"),i(!0);return}x(F({city:e,index:!1})),n(""),c("success"),d("City added"),i(!0)},Notification:a&&t.jsx(m,{type:"notification",notifyType:l,setIsOpen:i,children:h}),language:f}},H=C.bind(z),J=()=>{const{inputValue:e,handleChange:n,handleSubmit:a,Notification:i,language:l}=G();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:a,className:H("form"),children:[t.jsx(V,{label:l.add_city,value:e,onChange:n}),t.jsx(p,{type:"default",btnType:"submit",children:"+"})]}),i]})},Y=()=>t.jsxs("div",{children:[t.jsx(J,{}),t.jsx(W,{})]});export{Y as default};
