import{r as o,u as O,a as S,b as N,j as t,T as k,c as y,d as D,e as M}from"./main-Ci38X0rs.js";import{M as m,I as w}from"./Input-OkjADQEX.js";import{B as u}from"./Button-7E4LYu7G.js";const A="_cities_list_118b1_23",F="_popup_118b1_75",V="_negative_118b1_90",v={cities_list:A,popup:F,negative:V},I=e=>e.citiesData.data,b=y.bind(v),$=()=>{const[e,s]=o.useState(!1),[i,n]=o.useState(!1),[d,a]=o.useState(""),p=O(),h=S(I),l=N(),f=()=>{l(D(d)),a(""),s(!1),n(!0)},x=c=>{a(c),s(!0)},C=()=>{a(""),s(!1)},j=c=>{p("/weather-app/weather",{state:{city:c}})},r=h.map((c,T)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>j(c),children:c}),t.jsx(u,{type:"svg",onClick:()=>x(c),children:k})]},T)),g=e&&t.jsx(m,{type:"modal",setIsOpen:s,children:t.jsxs("div",{className:b("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',d,'"']}),"?"]}),t.jsx(u,{type:"default",onClick:f,children:"Delete"}),t.jsx(u,{type:"default",className:b("negative"),onClick:C,children:"Cancel"})]})});return{listItem:r,modal:g,notify:i&&t.jsx(m,{type:"notification",children:"City deleted",setIsOpen:n})}},B=y.bind(v),E=()=>{const{listItem:e,modal:s,notify:i}=$();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:B("cities_list"),children:e}),s,i]})},L="_form_gb011_23",P={form:L},R=()=>{const[e,s]=o.useState(""),[i,n]=o.useState(!1),[d,a]=o.useState(),p=S(I),[h,l]=o.useState("City added"),f=N();return{inputValue:e,handleChange:r=>{s(r)},handleSubmit:r=>{if(r.preventDefault(),e===""){a("warning"),l("Fill input field"),n(!0);return}if(p.some(_=>_===e.charAt(0).toUpperCase()+e.slice(1))){a("warning"),l("City exist"),n(!0);return}f(M(e)),s(""),a("success"),l("City added"),n(!0)},Notification:i&&t.jsx(m,{type:"notification",notifyType:d,setIsOpen:n,children:h})}},U=y.bind(P),W=()=>{const{inputValue:e,handleChange:s,handleSubmit:i,Notification:n}=R();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:i,className:U("form"),children:[t.jsx(w,{label:"Add city",value:e,onChange:s}),t.jsx(u,{type:"default",btnType:"submit",children:"+"})]}),n]})},H=()=>t.jsxs("div",{children:[t.jsx(W,{}),t.jsx(E,{})]});export{H as default};
