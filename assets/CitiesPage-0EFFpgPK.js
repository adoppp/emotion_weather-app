import{r as o,u as O,a as N,b as v,j as t,T as k,c as C,d as D,e as M,l as w,f as A}from"./main-AxK-nxVT.js";import{M as g,I as F}from"./Input-Bp3cIAjf.js";import{B as u}from"./Button-DewXRTav.js";const L="_cities_list_118b1_23",V="_popup_118b1_75",$="_negative_118b1_90",I={cities_list:L,popup:V,negative:$},T=e=>e.citiesData.data,S=C.bind(I),B=()=>{const[e,s]=o.useState(!1),[a,n]=o.useState(!1),[l,c]=o.useState(""),p=O(),r=N(T),h=v(),f=()=>{h(D(l)),c(""),s(!1),n(!0)},m=i=>{c(i),s(!0)},y=()=>{c(""),s(!1)},j=i=>{p("/weather-app/weather",{state:{city:i}})},_=r.map((i,x)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>j(i),children:i}),t.jsx(u,{type:"svg",onClick:()=>m(i),children:k})]},x)),b=e&&t.jsx(g,{type:"modal",setIsOpen:s,children:t.jsxs("div",{className:S("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',l,'"']}),"?"]}),t.jsx(u,{type:"default",onClick:f,children:"Delete"}),t.jsx(u,{type:"default",className:S("negative"),onClick:y,children:"Cancel"})]})});return{listItem:_,modal:b,notify:a&&t.jsx(g,{type:"notification",children:"City deleted",setIsOpen:n})}},E=C.bind(I),P=()=>{const{listItem:e,modal:s,notify:a}=B();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:E("cities_list"),children:e}),s,a]})},R="_form_gb011_23",U={form:R},W=()=>{const[e,s]=o.useState(""),[a,n]=o.useState(!1),[l,c]=o.useState(),[p,r]=o.useState("City added"),h=N(T),{lng:f}=M(),m=w[f],y=v();return{inputValue:e,handleChange:d=>{s(d)},handleSubmit:d=>{if(d.preventDefault(),e===""){c("warning"),r("Fill input field"),n(!0);return}if(h.some(x=>x===e.charAt(0).toUpperCase()+e.slice(1))){c("warning"),r("City exist"),n(!0);return}y(A(e)),s(""),c("success"),r("City added"),n(!0)},Notification:a&&t.jsx(g,{type:"notification",notifyType:l,setIsOpen:n,children:p}),language:m}},q=C.bind(U),z=()=>{const{inputValue:e,handleChange:s,handleSubmit:a,Notification:n,language:l}=W();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:a,className:q("form"),children:[t.jsx(F,{label:l.add_city,value:e,onChange:s}),t.jsx(u,{type:"default",btnType:"submit",children:"+"})]}),n]})},K=()=>t.jsxs("div",{children:[t.jsx(z,{}),t.jsx(P,{})]});export{K as default};
